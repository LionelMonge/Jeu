<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>GameJam - In the matrice</title>
    <script type="text/javascript" src="js/phaser.min.js"></script>
    <style type="text/css">
        body {
            margin: 0;
        }
    </style>
</head>
<body>

<script type="text/javascript">

    var timer =0;

    var game = new Phaser.Game(1280, 720, Phaser.AUTO, 'phaser-example', { preload: preload, create: create, update: update });

    var barre = [];

    function preload() {

        //game.load.spritesheet('block', 'pics/block.jpeg',20,20);
        game.load.spritesheet('matrixfont', 'assets/pics/matrix.png', 38, 40, 94);

    }

    function create() {
        for(var n=0; n<30; n++) {

            barre[n]=game.add.group();

            for(var i = 0; i < 10; i++) {
                barre[n].create(1, i * 30, 'matrixfont',game.rnd.between(1,70));
            }
            barre[n].setAllChildren('tint', '0x00AA00');
            barre[n].x = 10+(n*38);
            barre[n].y = -400;
        }

    }

    function update() {
    timer++;
    if(timer==4) {
        for(var n = 0; n < 30; n++) {
            if (barre[n].y == 800) {
                barre[n].y = -400
            }
            barre[n].y += 30;
        }
        timer=0;
    }
    }

</script>

</body>
</html>